<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flat.io Embed JSON Test</title>
</head>

<body>
    <h1>Flat.io Embed JSON Test</h1>
    <!-- copy and paste from FlatIO share by embedding section -->
     <!-- Only change score and sharing KEY values -->
    <div id="embed-container"></div>
    <script src="https://prod.flat-cdn.com/embed-js/v2.3.0/embed.min.js"></script>
    <script>
        // three note example, but all in the same 2 octaves
        // https://flat.io/score/67bcb6fe61f27a0a88a4db86?sharingKey=9ef465415e0c8f77bddd388d56599f5ee6b8e553e9ea94b59c8bf2a724e37ed5cd897ee700005fe209bd889d571205755bdc1b675e5d397eaf5f69d9cf9e3ed0

        const scores = [
            {
                scoreId: '67a26884ad9eb655c27e1bbe',
                'sharingKey': 'd61fc1be1b3df01d6c52162d81e4d58834ce3f30ad9eb9a49d3f642d0a822b04c929b2ee20aaa2af838b5e3fe39d6200f5d82895241a832fdbe7b01f2cbe7586'
            },
            { // 3 notes
                scoreId:'67bcb6fe61f27a0a88a4db86',
                'sharingKey': '9ef465415e0c8f77bddd388d56599f5ee6b8e553e9ea94b59c8bf2a724e37ed5cd897ee700005fe209bd889d571205755bdc1b675e5d397eaf5f69d9cf9e3ed0'
            }
        ]
        var container = document.getElementById("embed-container");
        var embed = new Flat.Embed(container, {
            "width": "100%",
            "height": "450",
            "score": scores[1].scoreId,
            "embedParams": {
                "appId": "60a51c906bcde01fc75a3ad0",
                "sharingKey": scores[1].sharingKey
            },
        });
        // You can now use the `embed` instance.
        // Check out the docs at https://flat.io/developers/docs/embed/javascript.html

    // Wait for the embed to initialize, then fetch JSON
    embed.getJSON()
    .then(function (data) {
    console.log("Flat.io JSON Data:", data);
    })
    .catch(function (error) {
    console.error("Error fetching JSON:", error);
    });
    </script>
</body>

</html>



<!-- Resulting JSON -->
<!--Its Just E5 Half note on a Trumpet  -->
<!-- {
    "score-partwise": {
        "$version": "3.1",
        "part-list": {
            "score-part": [
                {
                    "part-name": "Trumpet",
                    "voiceMapping": {
                        "0": [
                            0
                        ]
                    },
                    "staffMapping": [
                        {
                            "mainVoiceIdx": 0,
                            "voices": [
                                0
                            ],
                            "staffUuid": "55c57734-7ee9-2308-bd98-252db0f2a6e7"
                        }
                    ],
                    "voiceIdxToUuidMapping": {
                        "0": "fdc36069-82ee-b5db-60e3-543faf0ba49a"
                    },
                    "voiceUuidToIdxMapping": {
                        "fdc36069-82ee-b5db-60e3-543faf0ba49a": 0
                    },
                    "part-abbreviation": "Tpt.",
                    "score-instrument": {
                        "instrument-name": "Trumpet",
                        "$id": "P1-I1"
                    },
                    "midi-instrument": {
                        "midi-program": 257,
                        "volume": "100",
                        "$id": "P1-I1",
                        "midi-channel": "1"
                    },
                    "$id": "P1",
                    "uuid": "6aa64ca4-9919-c2e5-9d0a-78dde542ddc2"
                }
            ]
        },
        "measure-list": {
            "score-measure": [
                {
                    "uuid": "6a24e9a2-f8fa-ee43-b9c6-725681665b80"
                }
            ]
        },
        "part": [
            {
                "measure": [
                    {
                        "note": [
                            {
                                "staff": "1",
                                "voice": "1",
                                "duration": "2",
                                "pitch": {
                                    "octave": "5",
                                    "step": "E"
                                },
                                "$adagio-location": {
                                    "timePos": 0
                                },
                                "type": "half"
                            },
                            {
                                "rest": {},
                                "voice": "1",
                                "staff": "1",
                                "duration": "2",
                                "$adagio-location": {
                                    "timePos": 2
                                },
                                "type": "half"
                            }
                        ],
                        "barline": {
                            "$location": "right",
                            "bar-style": "light-heavy",
                            "$adagio-location": {
                                "dpq": 1,
                                "timePos": 4
                            },
                            "noteBefore": 1
                        },
                        "harmony": [],
                        "$number": "1",
                        "attributes": [
                            {
                                "divisions": "1",
                                "time": {
                                    "beats": "4",
                                    "beat-type": "4"
                                },
                                "clef": {
                                    "sign": "G",
                                    "line": "2"
                                },
                                "key": {
                                    "fifths": "2"
                                },
                                "transpose": {
                                    "chromatic": "-2",
                                    "diatonic": "-1"
                                },
                                "staff-details": {
                                    "staff-lines": "5"
                                },
                                "$adagio-time": {
                                    "beats": "4",
                                    "beat-type": "4"
                                },
                                "noteBefore": -1,
                                "$adagio-location": {
                                    "timePos": 0,
                                    "dpq": 1
                                }
                            }
                        ],
                        "sound": [
                            {
                                "$adagio-swing": {
                                    "swing": false
                                },
                                "noteBefore": -1,
                                "$adagio-location": {
                                    "timePos": 0,
                                    "dpq": 1
                                }
                            },
                            {
                                "$tempo": "80",
                                "noteBefore": -1,
                                "$adagio-location": {
                                    "timePos": 0,
                                    "dpq": 1
                                }
                            }
                        ],
                        "direction": [
                            {
                                "$placement": "above",
                                "staff": "1",
                                "$adagio-location": {
                                    "timePos": 0
                                },
                                "direction-type": {
                                    "metronome": {
                                        "per-minute": "80",
                                        "beat-unit": "quarter"
                                    }
                                },
                                "noteBefore": -1,
                                "$adagio-isFirst": true
                            }
                        ],
                        "$adagio-beatsList": [
                            1,
                            1,
                            1,
                            1
                        ],
                        "$adagio-restsInsideBeams": false
                    }
                ],
                "$id": "P1",
                "uuid": "6aa64ca4-9919-c2e5-9d0a-78dde542ddc2"
            }
        ],
        "defaults": {
            "scaling": {
                "millimeters": "7",
                "tenths": "40"
            },
            "page-layout": {
                "page-height": "1596.5714285714287",
                "page-width": "1233.7142857142858",
                "page-margins": {
                    "$type": "both",
                    "top-margin": "38.857142857142854",
                    "bottom-margin": "38.857142857142854",
                    "left-margin": "38.857142857142854",
                    "right-margin": "38.857142857142854"
                }
            },
            "system-layout": {
                "system-distance": "115.2"
            },
            "staff-layout": {
                "staff-distance": "72.57142857142857"
            },
            "$adagio-measureNumberingStart": 1,
            "word-font": {
                "$font-family": "Century Schoolbook L"
            }
        },
        "$adagio-formatVersion": 60,
        "credit": [
            {
                "credit-type": "title",
                "credit-words": "one note - E5 Half"
            }
        ],
        "work": {
            "work-title": "one note - E5 Half"
        },
        "identification": {
            "encoding": {
                "software": "Flat",
                "encoding-date": "2025-02-04"
            },
            "source": "https://flat.io/score/67a26884ad9eb655c27e1bbe-one-note-e5-half?sharingKey=d61fc1be1b3df01d6c52162d81e4d58834ce3f30ad9eb9a49d3f642d0a822b04c929b2ee20aaa2af838b5e3fe39d6200f5d82895241a832fdbe7b01f2cbe7586"
        }
    }
} -->